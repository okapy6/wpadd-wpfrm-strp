"use strict";const WPFormsBuilderAuthorizeNet=window.WPFormsBuilderAuthorizeNet||function(e,t){const i={},o={init:function(){t(o.ready)},ready(){i.$addFieldButton=t("#wpforms-add-fields-authorize_net"),i.$enablePayment=t("#wpforms-panel-field-authorize_net-enable"),o.bindUIActions(),o.settingsDisplay(),o.settingsConditions()},bindUIActions(){t(e).on("wpformsFieldUpdate",o.settingsDisplay).on("wpformsFieldUpdate",o.settingsConditions).on("wpformsSaved",o.requiredFieldsCheck).on("wpformsSaved",o.nameFormatCheck).on("wpformsSaved",o.paymentsEnabledCheck).on("mousedown","#wpforms-add-fields-authorize_net",o.keysCheck).on("wpformsFieldAdd",o.fieldAdded).on("wpformsFieldDelete",o.enableAddCardButton).on("wpformsFieldDelete",o.disableNotifications)},settingsDisplay:function(){var e=t("#authorize_net-credit-card-alert"),n=t("#authorize_net-provider");t(".wpforms-field-option-authorize_net").length?(e.hide(),n.find(".wpforms-panel-field, .wpforms-conditional-block-panel, h2").show()):(e.show(),n.find(".wpforms-panel-field, .wpforms-conditional-block-panel, h2").hide(),n.find("#wpforms-panel-field-authorize_net-enable").prop("checked",!1))},settingsConditions:function(){t("#wpforms-panel-field-authorize_net-enable").conditions({conditions:{element:"#wpforms-panel-field-authorize_net-enable",type:"checked",operator:"is"},actions:{if:{element:".wpforms-panel-content-section-authorize_net-body",action:"show"},else:{element:".wpforms-panel-content-section-authorize_net-body",action:"hide"}},effect:"appear"}),t("#wpforms-panel-field-authorize_net-recurring-enable").conditions({conditions:{element:"#wpforms-panel-field-authorize_net-recurring-enable",type:"checked",operator:"is"},actions:{if:{element:"#wpforms-panel-field-authorize_net-recurring-period-wrap,#wpforms-panel-field-authorize_net-recurring-conditional_logic-wrap,#wpforms-conditional-groups-payments-authorize_net-recurring,#wpforms-panel-field-authorize_net-recurring-email-wrap,#wpforms-panel-field-authorize_net-recurring-name-wrap,#wpforms-panel-field-authorize_net-recurring-customer_name-wrap,#wpforms-panel-field-authorize_net-recurring-customer_billing_address-wrap",action:"show"},else:{element:"#wpforms-panel-field-authorize_net-recurring-period-wrap,#wpforms-panel-field-authorize_net-recurring-conditional_logic-wrap,#wpforms-conditional-groups-payments-authorize_net-recurring,#wpforms-panel-field-authorize_net-recurring-email-wrap,#wpforms-panel-field-authorize_net-recurring-name-wrap,#wpforms-panel-field-authorize_net-recurring-customer_name-wrap,#wpforms-panel-field-authorize_net-recurring-customer_billing_address-wrap",action:"hide"}},effect:"appear"})},requiredFieldsCheck:function(){!o.isPaymentsEnabled()||!o.isRecurringPaymentsEnabled()||t("#wpforms-panel-field-authorize_net-recurring-email").val()&&t("#wpforms-panel-field-authorize_net-recurring-customer_name").val()||t.alert({title:wpforms_builder.heads_up,content:wpforms_builder.authorize_net_recurring_name_email_required,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}})},nameFormatCheck:function(){if(o.isPaymentsEnabled()){let e=!1;var n=t("#wpforms-field-"+t("#wpforms-panel-field-authorize_net-customer_name").val());n.length&&!n.find(".format-selected-first-last").length&&(e=!0),(e=o.isRecurringPaymentsEnabled()&&(n=t("#wpforms-field-"+t("#wpforms-panel-field-authorize_net-recurring-customer_name").val())).length&&!n.find(".format-selected-first-last").length?!0:e)&&t.alert({title:wpforms_builder.heads_up,content:wpforms_builder.authorize_net_name_format_required,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}})}},paymentsEnabledCheck(){!t(".wpforms-field.wpforms-field-authorize_net").length||o.isPaymentsEnabled()||(o.keysCheck(),t.alert({title:wpforms_builder.heads_up,content:wpforms_builder.authorize_net_payments_enabled_required,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}}))},keysCheck(){i.$addFieldButton.hasClass("authorize_net-keys-required")&&t.alert({title:wpforms_builder.heads_up,content:wpforms_builder.authorize_net_keys_required,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}})},fieldAdded(e,n,r){"authorize_net"===r&&(o.paymentsEnabledCheck(),o.disableAddCardButton(e,n,r))},disableAddCardButton(e,n,r){"authorize_net"===r&&i.$addFieldButton.prop("disabled",!0)},enableAddCardButton(e,n,r){"authorize_net"===r&&i.$addFieldButton.prop("disabled",!1)},disableNotifications(e,n,r){"authorize_net"===r&&((r=t('.wpforms-panel-content-section-notifications [id*="-authorize_net-wrap"]')).find('input[id*="-authorize_net"]').prop("checked",!1),r.addClass("wpforms-hidden"))},isPaymentsEnabled(){return i.$enablePayment.is(":checked")},isRecurringPaymentsEnabled(){return t("#wpforms-panel-field-authorize_net-recurring-enable").is(":checked")}};return o}(document,(window,jQuery));WPFormsBuilderAuthorizeNet.init();